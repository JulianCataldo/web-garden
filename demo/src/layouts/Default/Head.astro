---
import { SEOMetadata } from 'astro-seo-metadata';
import { Tooltips } from 'astro-tooltips';
import { ColorMode } from 'astro-color-mode';
import { HoverPrefetch } from 'astro-hover-prefetch';
import { ScrollObserver } from 'astro-scroll-observer';
import { GoogleAnalytics } from 'astro-google-analytics';
/* —————————————————————————————————————————————————————————————————————————— */
import Favicons from 'src/components/Favicons.astro';
/* —————————————————————————————————————————————————————————————————————————— */
// import { description } from 'astro/package.json';
/* —————————————————————————————————————————————————————————————————————————— */
const props = { ...Astro.props };
/* —————————————————————————————————————————————————————————————————————————— */
const comboTitle = `${props.titles.main} | ${props.titles.sub} | ${props.titles.main}`;
const siteName = "Julian's Web Garden";
---

<!-- TODO: Dev / Prod mode for SEO image poster -->
<SEOMetadata
  image={`${import.meta.env.SITE}poster.png`}
  title={comboTitle}
  description={props.description || '' /* description */}
  siteName={siteName}
  author="Julian Cataldo"
  copyright="ISC"
/>

<Tooltips />

<!-- Disabled for dev' (no accidental triggering of a broken page) -->
{
  import.meta.env.MODE === 'production' && (
    <>
      <HoverPrefetch max={3} />
    </>
  )
}

<ColorMode />

<ScrollObserver />

<GoogleAnalytics id="G-RW3VKT4PD3" />

<!-- FIXME: Disabled, breaks on vite build -->
<!-- <Resets /> -->

<!-- TODO: integration -->
<!-- <LightBox /> -->
<Favicons />
