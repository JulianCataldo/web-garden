---
import LicensesReport from '@julian_cataldo/astro-licenses-report/LicensesReport.astro';

// import MyLicensesReport from '../Polymorph/MyLicensesReport/MyLicensesReport.astro';
---

<div class='demo-wrapper'>
  <p>
    Comes unstyled.
    <br />
    This component is easily stylable, and fully accessible.
  </p>

  <hr />
  <span>
    Dependencies of the current website you are visiting (depth is set to 1):
  </span>

  <div class='table-wrapper'>
    <LicensesReport
      useDev={true}
      depth={1}
      nameText={'Nom'}
      authorText={'Auteur'}
      licenseText={'License'}
      linkText={'URL'}
      data-testid='licenses-report'
      class='licenses-report'
    />
  </div>
</div>

<style lang='scss'>
  .table-wrapper {
    // max-width: calc(100vw - 50rem);
    overflow-y: scroll;
    overflow-x: auto;
    max-height: 40vh;

    margin-top: 3rem;

    .licenses-report {
      .th {
        font-weight: 600;
        background: color.adjust($raisin-black, $alpha: -0.95);
        font-variant: small-caps;
        text-align: center;
      }
      .tr {
        display: flex;
        &:nth-of-type(odd) {
        }
        &:nth-of-type(even) {
          background: color.adjust($rosewood, $alpha: -0.96);
        }
      }
      .td,
      .th {
        word-break: break-all;
        overflow: hidden;

        padding: 0.5em;

        border-right: 1px solid color.adjust($raisin-black, $alpha: -0.85);
        &:last-of-type {
          border-right: none;
        }

        &:nth-child(1) {
          width: 23%;
        }

        &:nth-child(2) {
          width: 23%;
        }

        &:nth-child(3) {
          width: 9%;
        }

        &:nth-child(4) {
          width: 45%;
        }
      }

      .td {
        font-size: 85%;
      }
    }
  }
</style>
