---
export interface Props {
  /** Google Analytics 4 ID. */
  id: string;
}
const props = Astro.props as Props;

const url = `https://www.googletagmanager.com/gtag/js?id=${props.id}`;
---

<script async src={url} is:inline>

</script>

<script is:inline define:vars={{ id: props.id }}>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());

  gtag('config', props.id);
</script>
