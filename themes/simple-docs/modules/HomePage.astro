---
import { pkg, content } from '../app/content';
import { Link } from 'astro-link';
// import ArrowTopRightOnSquare from '../assets/arrow-top-right-on-square.svg?raw';
import BookmarkSquare from '../assets/bookmark-square.svg?raw';
import PlayCircle from '../assets/play-circle.svg?raw';
import AcademicCap from '../assets/academic-cap.svg?raw';
import GraphPaper from '../assets/graph-paper.svg?raw';
import ProseBlock from '../components/ProseBlock.astro';
import './HomePage.scss';

const { siteTitle, rawContent } = Astro.props;
---

<header class="home-hero">
	{
		new Array(8).fill(null).map(
			//
			(_, i) => <div class={`bg bg-${i}`} />,
		)
	}
	<svg width="100%" height="100%" class="bg bg-noise">
		<filter id="noiseFilter">
			<feTurbulence
				type="fractalNoise"
				baseFrequency="0.65"
				numOctaves="3"
				stitchTiles="stitch"></feTurbulence>
		</filter>
		<rect
			x="0"
			y="0"
			width="100%"
			height="100%"
			filter="url(#noiseFilter)"
			fill="url(#graph)"></rect>
	</svg>
	<svg width="100%" height="100%" class="bg bg-grid">
		<defs>
			<pattern
				id="graph"
				x="0"
				y="0"
				width="100"
				height="100"
				patternUnits="userSpaceOnUse"
				set:html={GraphPaper}
			/>
		</defs>
		<rect x="0" y="0" width="100%" height="100%" fill="url(#graph)"></rect>
	</svg>

	<h1>{siteTitle}</h1>

	<p>
		{pkg.description}
	</p>

	<div class="ctas">
		<Link
			class="unstyled"
			href={`/reference/${Object.entries(content.reference)[0][0]}`}
		>
			<Fragment set:html={BookmarkSquare} />
			References
		</Link>

		<Link
			class="unstyled"
			href={`/learn/${Object.entries(content.learn)[0][0]}`}
		>
			<Fragment set:html={AcademicCap} />
			Get Started
		</Link>

		<Link
			class="unstyled"
			href={`https://codesandbox.io/p/github/${pkg?.repository.url.replace(
				'https://github.com/',
				'',
			)}/tree/main/demo`}
		>
			<Fragment set:html={PlayCircle} />
			Playground
		</Link>
	</div>
</header>

<main>
	{/* <article>{Content ? <Content /> : '404'}</article> */}

	<ProseBlock content={rawContent} data-pagefind-body />
</main>
